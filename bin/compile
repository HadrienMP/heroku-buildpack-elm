#!/bin/bash

indent() {
  sed -u 's/^/       /'
}

buildDir=$1
cacheDir=$2

if [[ -f "$cacheDir/elm" ]]; then
    echo "Reusing elm" | indent
else
    echo "Downloading elm 0.19.1" | indent
    cd $cacheDir
    curl -L -o elm.gz https://github.com/elm/compiler/releases/download/0.19.1/binary-for-linux-64-bit.gz
    gunzip elm.gz
    chmod +x elm
    cd -
fi

cd $buildDir 
ls | indent
